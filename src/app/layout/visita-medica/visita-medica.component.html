<h1 class="text-center">Visitas medicas</h1>
<hr>
<div class="row m-4">
<div class="col d-flex justify-content-center text-center">
        Listado de citas, para convertirse en visitas medicas
</div>
  <div class="col d-flex justify-content-end">
      <button
          (click)="alta(content)" 
          class='btn btn-primary'>
          <i class="fa fa-plus"></i>
          Agregar
      </button>

    </div>
</div>

<table datatable *ngIf="cargando && citas.length > 0"
    class="table table-bordered display compact table-hover w-100 mt-3 animated fadeIn faster">
    <thead class="thead-dark">
    <tr class="text-center">
      <th scope="col">#</th>
      <th scope="col">Paciente</th>
      <th scope="col">Consultorio</th>
      <th scope="col">Fecha</th>
      <th scope="col">Estatus</th>
      <th scope="col">Costo</th>
      <th scope="col" >Acciones</th>
    </tr>
  </thead>
  <tbody>
    <tr  *ngFor="let c of citas; let i=index" class="text-center">
        <td>{{ i+1 }}</td>
        <td>{{c.nombrePaciente}}</td>
        <td>{{ c.nombreConsultorio }}</td>
        <td>{{ c.fecha | date}}</td>
        <td>{{ c.status}}</td>
        <td>{{ c.costo}}</td> 
        <td>
                <!-- (click)="actualizar(c, content)" -->
            <button class="btn btn-info mr-1"
                    (click)="alta(content)"
                    >
                Convertir a visita medica   
                <i class="fas fa-thumbs-up"></i>
        </button>
        </td>
    </tr>
  </tbody>
</table>

<div *ngIf="!cargando" 
class="alert alert-info text-center mt-3 animated fadeIn faster">
<h4>cargando</h4>
<p>
   <i class="fas fa-sync-alt fa-spin fa-2x"></i>
</p>
<p class="mb-0">
   Espere por favor
</p>
</div>

<div *ngIf="!cargando &&  citas.length === 0"
 class="alert alert-warning text-center mt-3 animated fadeIn faster">
   <h4>No hay registros</h4>
   <p>
       <i class="fas fa-exclamation fa-2x"></i>
   </p>
 
</div>
<!-- Modal convertir cita a visita medica -->
 <ng-template #content let-c="close" let-d="dismiss">
    <form #formulario ="ngForm">
    <div class="modal-header text-center">
        <h4 class="modal-title">Visita Medica</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    
    <div class="modal-body" >
            <aw-wizard navBarLayout="large-filled">
                    <aw-wizard-step [navigationSymbol]="{ symbol: '1' }" stepTitle="InformaciÃ³n de la visita">
                      
                      <button type="button" class="btn btn-dark" awNextStep>Siguiente <i class="fas fa-arrow-circle-right"></i></button>
  
                    </aw-wizard-step>
                    <aw-wizard-step [navigationSymbol]="{ symbol: '2' }" stepTitle="Anexos">
                      Content of Step 2
                      
                      <button type="button" class="btn btn-dark" awPreviousStep><i class="fas fa-arrow-circle-left"></i> Regresar</button>
                    </aw-wizard-step>
                   
            </aw-wizard>
    </div>
    <div class="modal-footer align-content-center">
        <button 
                type="button" 
                class="btn btn-secondary" 
                (click)="c('Close click')">
                Cerrar
        </button>

        <button [disabled]="!formulario.valid"
                class="btn btn-primary"
                type="submit">
                <i class="fa fa-save"></i>
                 Guardar
       </button>
    </div>
  </form>
</ng-template> 
